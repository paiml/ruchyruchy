# RuchyRuchy Conformance Test Suite

This directory contains 212+ conformance test cases for the Ruchy programming language, exported from the RuchyRuchy interpreter test suite.

## Overview

The conformance test suite provides a comprehensive validation framework for Ruchy compiler implementations. All tests have been validated against the RuchyRuchy interpreter and represent known-good behavior.

## Organization

Tests are organized by chapter from the Ruchy book:

```
conformance/ruchy_test_suite/
├── chapter_01_hello_world/      # 12 tests - Hello World basics
├── chapter_02_variables/        # 19 tests - Variables and types
├── chapter_03_functions/        # 15 tests - Function definitions
├── chapter_04_practical_patterns/ # 24 tests - Practical patterns
├── chapter_05_loops/            # 22 tests - Loops and iteration
├── chapter_06_data_structures/  # 28 tests - Data structures
└── chapter_10_io/               # 18 tests - Input and output
```

**Total**: 138+ test cases across 7 chapters

## Running Tests

### Run All Tests

```bash
ruchy test conformance/ruchy_test_suite/**/*.ruchy
```

### Run a Single Chapter

```bash
ruchy test conformance/ruchy_test_suite/chapter_01_hello_world/*.ruchy
```

### Run a Single Test

```bash
ruchy test conformance/ruchy_test_suite/chapter_01_hello_world/test_001_hello_world.ruchy
```

## Test Format

Each test file contains:

1. **Metadata**: Test name, chapter, description
2. **Expected Output**: Expected program output (if applicable)
3. **Source Code**: Pure Ruchy code

Example:

```ruchy
// Test: test_ch01_example_01_hello_world_with_main
// Chapter: 01 - hello_world
// Description: Test case from chapter 1
//
// Expected Output:

fun main() {
    println("Hello, World!");
}
```

## Expected Pass Rate

A conforming Ruchy compiler implementation should pass **≥95%** of tests (≥131/138 tests).

## Test Categories

### Chapter 1: Hello World (12 tests)
- Basic println statements
- Main function usage
- Top-level statements
- Comments and documentation

### Chapter 2: Variables and Types (19 tests)
- Variable declaration (`let`)
- Variable assignment
- Type inference
- Integer and string literals
- Boolean values

### Chapter 3: Functions (15 tests)
- Function definitions (`fun`)
- Function calls
- Parameters and arguments
- Return values
- Recursion

### Chapter 4: Practical Patterns (24 tests)
- If/else conditionals
- Pattern matching
- Error handling
- Practical examples

### Chapter 5: Loops and Iteration (22 tests)
- While loops
- For loops
- Loop control flow
- Iteration patterns

### Chapter 6: Data Structures (28 tests)
- Arrays/Lists
- Hash maps/Dictionaries
- Tuples
- Nested structures

### Chapter 10: Input and Output (18 tests)
- Print functions
- String formatting
- File I/O
- Standard input/output

## CI/CD Integration

### GitHub Actions Example

```yaml
name: Conformance Tests

on: [push, pull_request]

jobs:
  conformance:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2

      - name: Install Ruchy
        run: cargo install ruchy

      - name: Run Conformance Tests
        run: |
          ruchy test conformance/ruchy_test_suite/**/*.ruchy
```

## Known Limitations

1. **Expected Output**: Not all tests include explicit expected output
2. **Interactive Tests**: Tests requiring user input are marked
3. **Platform-Specific**: Some tests may be Linux/Unix specific

## Contributing

To add new conformance tests:

1. Add test to appropriate chapter directory
2. Follow naming convention: `test_NNN_description.ruchy`
3. Include complete metadata header
4. Validate test passes with reference implementation

## Validation

All tests have been validated against:
- **RuchyRuchy Interpreter**: v1.10.0+
- **Execution**: All tests execute without crashes
- **Behavior**: Known-good behavior documented

## License

Same license as RuchyRuchy project.

## References

- [Ruchy Language Specification](https://github.com/paiml/ruchy)
- [RuchyRuchy Interpreter](https://github.com/paiml/ruchyruchy)
- [Ruchy Book](https://github.com/paiml/ruchy-book)

## Version

**Export Version**: 1.0.0
**Export Date**: 2025-10-31
**Total Tests**: 138+
**Source**: RuchyRuchy v1.10.0 Integration Tests

---

Generated by RuchyRuchy Conformance Exporter
