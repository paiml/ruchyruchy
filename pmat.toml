# RuchyRuchy PMAT Configuration - Pure Ruchy Tooling Quality Standards
# Educational compiler infrastructure with EXTREME TDD
# All validation MUST use Ruchy binary tools (dogfooding)

[quality_gate]
max_cyclomatic_complexity = 20  # CLAUDE.md requirement: <20 per function
max_cognitive_complexity = 15   # Educational clarity requirement
max_satd_comments = 0           # Zero tolerance for technical debt
min_test_coverage = 80.0        # CLAUDE.md requirement: >80% via ruchy score

[documentation]
required_updates = [
    "INTEGRATION.md",
    "CHANGELOG.md",
    "book/src/SUMMARY.md"
]
# Ticket format: INFRA-XXX, VALID-XXX, BOOTSTRAP-XXX, PROP-XXX, FUZZ-XXX, BOUND-XXX
task_id_pattern = "(INFRA|VALID|BOOTSTRAP|PROP|FUZZ|BOUND)-[0-9]{3}"

[toyota_way]
enable_mcp_first_dogfooding = true  # Dogfood Ruchy tools
enforce_jidoka_automation = true     # Built-in quality (Andon Cord)
kaizen_cycle_enforcement = true      # Continuous improvement
genchi_genbutsu_validation = true    # Go and see (boundary analysis)

[sprint_management]
current_sprint = "Phase2-Validation"
velocity_tracking_enabled = true
task_id_enforcement = true
roadmap_file = "roadmap.yaml"

[ruchy_tooling]
# MANDATORY: All testing and validation MUST use Ruchy binary tools
require_ruchy_test = true       # ruchy test (pure Ruchy test files)
require_ruchy_lint = true       # ruchy lint (A+ grade required)
require_ruchy_fmt = true        # ruchy fmt (canonical style)
require_ruchy_prove = true      # ruchy prove (formal verification)
require_ruchy_score = true      # ruchy score (quality scoring >0.8)
require_ruchy_runtime = true    # ruchy runtime (performance analysis)
require_ruchy_check = true      # ruchy check (type/syntax validation)

# RuchyRuchy debuggers (dogfooding our own tools)
require_ruchydbg_validate = true    # ruchydbg validate (debugging tools)
require_source_map_validation = true # Source map accuracy (1:1 line mapping)
require_time_travel = true          # Time-travel debugging validation
require_performance_benchmarks = true # Performance regression checks

[validation_pipeline]
# Phase 2: Validation & Robustness focus
self_compilation_testing = true     # Test tools against Ruchy-compiled code
property_based_testing = true       # Mathematical property validation (>10K cases)
fuzz_testing = true                 # Boundary and edge case discovery
boundary_analysis = true            # Exact limits of functionality
differential_testing = true         # Compare with production compiler

[book_integration]
# MANDATORY: Every ticket MUST have book chapter with EXTREME TDD documentation
enforce_book_chapters = true
require_red_phase = true            # Test written first, failing
require_green_phase = true          # Test passing with minimal implementation
require_refactor_phase = true       # Code improvements documented
require_tool_validation = true      # All 16 Ruchy tools validated
require_debugger_validation = true  # All ruchyruchy debuggers validated
require_reproducibility = true      # Executable script with exit status 0
require_debuggability = true        # Debug session documented
book_dir = "book/"

[renacer_integration]
# Performance validation with golden tracing
enabled = true
config_file = "renacer.toml"
require_golden_traces = true        # Capture and validate execution traces
performance_budgets_enforced = true # JIT, interpreter, debugger budgets
